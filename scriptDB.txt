USE master;  
GO  
CREATE DATABASE BROKER_SEGUROS  
ON
( NAME = BROKER_SEGUROS_dat,  
    FILENAME = 'C:\Program Files\Microsoft SQL Server\MSSQL15.SQLEXPRESS\MSSQL\DATA\BROKER_SEGUROSdat.mdf',  
    SIZE = 10,  
    MAXSIZE = 50,  
    FILEGROWTH = 5 )  
LOG ON  
( NAME = BROKER_SEGUROS_log,
    FILENAME = 'C:\Program Files\Microsoft SQL Server\MSSQL15.SQLEXPRESS\MSSQL\DATA\BROKER_SEGUROSlog.ldf',  
    SIZE = 5MB,  
    MAXSIZE = 25MB,  
    FILEGROWTH = 5MB )
GO
USE BROKER_SEGUROS;
CREATE TABLE COBERTURA
	(	id_cobertura int PRIMARY KEY NOT NULL IDENTITY,
		cod_cobertura varchar(10) NOT NULL,
		nom_cobertura varchar (100) NOT NULL
	)
GO
CREATE TABLE POLIZA
	(	id_poliza int PRIMARY KEY NOT NULL IDENTITY,
		nom_poliza varchar (100) NOT NULL,
		monto_asegurado int NOT NULL
	)
GO
CREATE TABLE COBERTURAS_POLIZA
	(	id_coberturas_poliza int PRIMARY KEY NOT NULL IDENTITY,
		id_poliza int FOREIGN KEY REFERENCES POLIZA(id_poliza) NOT NULL,
		id_cobertura int NOT NULL
	)
GO
USE BROKER_SEGUROS;
INSERT INTO COBERTURA VALUES ('RC', 'Responsabilidad Civil' )
GO
INSERT INTO COBERTURA VALUES ('DT', 'Destrucción Total por Accidentes' )
GO
INSERT INTO COBERTURA VALUES ('CL', 'Cristales Laterales' )
GO
INSERT INTO COBERTURA VALUES ('LP', 'Lunetas y parabrisas' )
GO
INSERT INTO COBERTURA VALUES ('CA', 'Cerraduras' )
GO
INSERT INTO COBERTURA VALUES ('GR', 'Granizo' )
GO
USE BROKER_SEGUROS;
INSERT INTO POLIZA VALUES ('Responsabilidad Civil', 250000)
GO
INSERT INTO COBERTURAS_POLIZA VALUES(1, 1)
GO
INSERT INTO POLIZA VALUES ('Cobertura Básica', 250000)
GO
INSERT INTO COBERTURAS_POLIZA VALUES(2, 1)
GO
INSERT INTO COBERTURAS_POLIZA VALUES(2, 1)
GO
INSERT INTO COBERTURAS_POLIZA VALUES(2, 2)
GO